\documentclass[oneside,openright,uplatex]{jsbook} % oneside: 章ごとに改ページ．twoside: 章の初めが右側となるように改ページ．

% jsbookで余白が広すぎるのを直す
% 参照 https://oku.edu.mie-u.ac.jp/~okumura/jsclasses/
\setlength{\textwidth}{\fullwidth}
\setlength{\evensidemargin}{\oddsidemargin}

% OTF フォントを使えるようにし、複数のウェイトも使用可能にする。
% これがないと、Mac のヒラギノ環境で使われる角ゴが太すぎてみっともない。
\usepackage[deluxe]{otf}

% OT1→T1に変更し、ウムラウトなどを PDF 出力で合成文字ではなくす
\usepackage[T1]{fontenc}

% uplatex の場合に必要な処理 
\usepackage[utf8]{inputenc} % エンコーディングが UTF8 であることを明示する。
\usepackage[prefernoncjk]{pxcjkcat} % アクセントつきラテン文字を欧文扱いにする

% Helvetica と Times を sf と rm のそれぞれで使う。
% default だとバランスが悪いので、日本語に合わせて文字の大きさを調整する。
\usepackage[scaled=1.05,helvratio=0.95]{newtxtext}

\usepackage[dvipdfmx,hiresbb]{graphicx} % 画像の添付に必要
\usepackage[dvipdfmx]{color}    % 画像の添付に必要

% 表でセルを複数列で結合する
\usepackage{multicol}

% 数式の機能を拡張
\usepackage{amsmath}

% citep や citet を有効にする
\usepackage{natbib} % 参考文献を bib で管理するために必要．
\usepackage{url}    % 参考文献のリンク指定オプションに必要．

%\usepackage[hypertex]{hyperref} % url 埋め込みに必要．Usage: \href{url}{text}

% (Okumura, 2009) などを (Okumura 2009) とする
\setcitestyle{aysep={}}

% subfigure 環境で、(a)、(b) などの番号を左上に表示する。宇宙系の分野ではこれが一般的なはず。
\usepackage[nooneline]{subfigure}
\subfiguretopcaptrue

% 行番号を表示する。添削時のみに使い、事務提出版ではコメントアウトする
%\usepackage{lineno}
%\linenumbers

% PDF 内で外部リンクや文書内リンクを生成したい場合に使う（好みによる）
% \usepackage[dvipdfmx]{hyperref}

% newcommand を使うことで、繰り返し使う長ったらしい入力を簡単にすることができる
\makeatletter
\newcommand{\ion}[2]{#1$\;${\small\rmfamily\@Roman{#2}}\relax}%
\makeatother
\newcommand{\HI}{\mbox{\ion{H}{1}}} % 中性原子ガス（HI 領域）の例
\newcommand{\bs}{\symbol{92}} % backslash


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 図を通し番号にする: http://rexpit.blog29.fc2.com/blog-entry-99.html
\usepackage{remreset}	% removefromreset に使う
\makeatletter
	\@removefromreset{figure}{chapter}
	\def\thefigure{\arabic{figure}}

	\@removefromreset{table}{chapter}
	\def\thetable{\arabic{table}}

	\@removefromreset{equation}{chapter}
	\def\theequation{\arabic{equation}}
\makeatother

\usepackage{comment} % \begin{comment} \end{comment}
\usepackage{color}   % {\bf \color{red}メモ}

\usepackage{natbib} % citep や citet を有効にする
\bibpunct[:]{[}{]}{,}{a}{}{,} % 括弧を () -> [] へ変更
%\usepackage[numbers]{natbib} % citep や citet を有効にする
%\bibpunct[:]{(}{)}{,}{a}{}{,}

\usepackage[]{multicol}         % 段組み % \begin{multicols}{2}%2段組み開始 ~ \end{multicols}%2段組み終了

\usepackage{wrapfig}            % 図の回り込みを許す．\begin{figure}~\end{figure} -> \begin{wrapfigure}{r}{90mm}~\end{wrapfigure} へ置き換え
                                % 直後の文が制御記号だと，回り込みに失敗し，文字が図下に重なるので，制御記号の直前に ''\noindent \ \ '' を挿入して回避する．

%\setlength\floatsep{0pt}         % 図と図の間の余白
%\setlength\textfloatsep{0pt}     % 本文と図の間の余白
%\setlength\intextsep{0pt}        % 本文中の図の余白
\setlength\abovecaptionskip{-3pt} % 図とキャプションの間の余白

%\usepackage{here} % \begin{figure}[H]

\renewcommand\thefootnote{\arabic{footnote})} % footnote % 脚注の調整
%\usepackage{dblfnote} % 脚注を 2 段組にする

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ソースコードの埋め込み
\usepackage{listings}
\lstset{%
  language={C},
  basicstyle={\small},%
  identifierstyle={\small},%
  commentstyle={\small\itshape},%
  keywordstyle={\small\bfseries},%
  ndkeywordstyle={\small},%
  stringstyle={\small\ttfamily},
  frame={single}, % leftline，topline，bottomline，tb OR lines, trBL，tRBl OR shadowbox, single
  breaklines=true,
  columns=[l]{fullflexible},%
  xrightmargin=0zw,%
  xleftmargin=3zw,%
  %numbers=left,%
  %numberstyle={\scriptsize},%
  %stepnumber=1,
  %numbersep=1zw,%
  tabsize=4, %タブの大きさ
  lineskip=-0.5ex, %行間
  linewidth=16.5cm %フレームの横幅
}

%\usepackage{listings}
%\lstset{
%  basicstyle={\ttfamily\small}, %書体の指定
%  frame=single, % frame=tRBl, %フレームの指定
%  framesep=3pt, %フレームと中身（コード）の間隔
%  breaklines=true, %行が長くなった場合の改行
%  %linewidth=12cm, %フレームの横幅
%  lineskip=-0.5ex, %行間の調整
%  tabsize=4 %Tabを何文字幅にするかの指定
%}

%\usepackage{jlisting}
%\usepackage{listings}
%\usepackage{color}
%\definecolor{OliveGreen}{rgb}{0.0,0.6,0.0}
%\definecolor{Magenta}{cmyk}{0, 1, 0, 0}
%\definecolor{colFunc}{rgb}{1,0.07,0.54}
%\definecolor{CadetBlue}{cmyk}{0.62,0.57,0.23,0}
%\definecolor{Brown}{cmyk}{0,0.81,1,0.60}
%\definecolor{colID}{rgb}{0.63,0.44,0}
%\lstset{
%language={Matlab},                   %言語の指定
%basicstyle={\ttfamily\small},        %書体の指定
%backgroundcolor={\color[gray]{.95}}, %背景色と透過度
%keywordstyle={\color{blue}},         %キーワード(int, ifなど)の書体指定
%commentstyle={\color{OliveGreen}},   %注釈の書体 
%stringstyle=\color{Magenta},         %文字列
%frame=single,                        %枠縁(leftline，topline，bottomline，lines，trBL，shadowbox, single)
%numbers=left,                        %行番号表示
%numberstyle={\ttfamily\small},       %行番号の書体指定
%breaklines=true,                     %折り返し(自動改行)
%breakindent = 10pt,                  %自動改行後のインデント量(デフォルトでは20[pt])	
%tabsize=2,                           %タブの大きさ
%captionpos=t                         %キャプションの場所(t,b : "tb"ならば上下両方に記載)
%}
%\renewcommand{\lstlistingname}{Code} % キャプション名の指定

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\input{FrontCover} % 表紙
\include{00_Abstract}

\frontmatter     % make page number roman
\tableofcontents % 目次
%\listoffigures  % 図目次
%\listoftables   % 表目次

\mainmatter      % make page number arabic
\include{01_Introduction}
\include{02_Algorism}
\include{03_Implementation}
\include{04_Results}
\include{05_Discussion}
\include{06_Conclusion}
\include{07_Appendix}
\include{08_Acknowledgments}

\renewcommand{\bibname}{参考文献} % jecon.bst だと bib の doi を読み込めずエラーを吐くので，ここだけ，削除すること．
\bibliographystyle{jecon}
\nocite{*} % 文献の引用がない場合のエラーを抑制．
\bibliography{09_References}

\end{document}
